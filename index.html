<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Index</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Index</h1>
    
    


    


    <h3> </h3>









    




    <section>
        <article><h1 id="connect-once-npm-version-npm-image-npm-url-build-status-travis-image-travis-url-coverage-status-coveralls-image-coveralls-url-dependency-status-depstat-image-depstat-url-">connect-once <a href="https://npmjs.org/package/connect-once"><img src="https://badge.fury.io/js/connect-once.png" alt="NPM version"></a> <a href="http://travis-ci.org/floatdrop/connect-once"><img src="https://travis-ci.org/floatdrop/connect-once.png?branch=master" alt="Build Status"></a> <a href="https://coveralls.io/r/floatdrop/connect-once"><img src="https://coveralls.io/repos/floatdrop/connect-once/badge.png" alt="Coverage Status"></a> <a href="https://david-dm.org/floatdrop/connect-once"><img src="https://david-dm.org/floatdrop/connect-once.png?theme=shields.io" alt="Dependency Status"></a></h1>
<blockquote>
<p>Connect once and memorize connection for next usages</p>
</blockquote>
<h2 id="usage">Usage</h2>
<p>Install package with npm:</p>
<p><code>npm i connect-once --save</code></p>
<pre><code class="lang-js">var connectOnce = require(&#39;connect-once&#39;);

var connection = new connectOnce({ 
    retries: 60, 
    reconnectWait: 1000
}, MongoClient.connect, &#39;mongodb://localhost/test&#39;);

connection.when(&#39;available&#39;, function (err, db) {
    // Do stuff
});
</code></pre>
<h2 id="api">API</h2>
<h3 id="connect-once-options-connectfunction-connectarguments-">connect-once([options,] connectFunction[, connectArguments ...])</h3>
<p>Returns event emitter that will notify you, when connection is available and save it for next usages.</p>
<h3 id="options-">Options:</h3>
<h4 id="options-retries">options.retries</h4>
<p>Type: <code>Number</code>
Default: <code>5</code></p>
<h4 id="options-reconnectwait">options.reconnectWait</h4>
<p>Type: <code>Number</code>
Default: <code>1000</code></p>
<h3 id="methods-">Methods:</h3>
<h4 id="when-event-callback-">when(event, callback)</h4>
<p>This is wrapper around <code>once</code> method. If event is equal <code>available</code> - then it will check saved results from callback, and they absent attach <code>callback</code> with <code>once</code> method on event <code>available</code>.</p>
<h3 id="events-">Events:</h3>
<h4 id="available">available</h4>
<p>Emitted once, when connection is available. For retrieving saved results use <code>when</code> method.</p>
<h4 id="reconnect">reconnect</h4>
<p>Emitted on each reconnection try.</p>
<h1 id="license">License</h1>
<p>(MIT License) (c) 2013 Vsevolod Strukchinsky (floatdrop@gmail.com)</p>
</article>
    </section>






</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="Connection.html">Connection</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha4</a> on Sun Mar 09 2014 20:15:58 GMT+0600 (YEKT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>